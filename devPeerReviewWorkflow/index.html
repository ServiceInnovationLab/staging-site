<!DOCTYPE html>
<!--[if lt IE 9]><html class="lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html lang="en"><!--<![endif]-->
  <head>
    
<!-- depth = 1-->
<!-- base = ../-->

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KHXPF5R');</script>
<!-- End Google Tag Manager -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-164758137-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-164758137-1');
</script>

<!-- Basic Page Needs
================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="google-site-verification" content="YITKfKxelpdExGGDF8rWkysmE9owfhbpbNwRR1RghEM" />

<!-- Mobile Specific Metas
================================================== -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Meta tags
================================================== -->
<!-- Title -->

  <title>Service Innovation Lab | Dev Peer Review Workflow</title>
  <meta property="og:title" content="Service Innovation Lab | Dev Peer Review Workflow" />


<!-- Description -->

  <meta name="description" content="The Service Innovation Lab is an All-of-Government lab in Aotearoa New Zealand, hosting and enabling collaboration across agencies. We research, design, and develop ways to improve people’s experiences when they interact with government.
">
  <meta property="og:description" content="The Service Innovation Lab is an All-of-Government lab in Aotearoa New Zealand, hosting and enabling collaboration across agencies. We research, design, and develop ways to improve people’s experiences when they interact with government.
" />


<!-- Image -->


<!-- Author -->


<!-- Date -->


<!-- Tags -->


  <link rel="canonical" href="/staging-site/devPeerReviewWorkflow/" />

<!--[if lt IE 9]>
  <script src="/staging-site/assets/js/vendor/html5shiv.js"></script>
  <script src="/staging-site/assets/js/vendor/respond.js"></script>
  <script src="/staging-site/assets/js/vendor/selectivizr-min.js"></script>
<![endif]-->
<!-- CSS
=================================================== -->
  <link rel="stylesheet" href="..//assets/css/main.css" media="all" />
  <link rel="stylesheet" href="..//assets/css/print.css" media="print" />
  </head>
  <body class="page-dev-peer-review-workflow
   ">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KHXPF5R"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    
      
<!-- depth = 1-->
<!-- base = ../-->
<a class="skipnav" href="#main-content">Skip to main content</a>
<header role="banner">
  <div class="site-navbar nz-grid" role="navigation" aria-label="Menu section">
    <button class="menu-btn">Menu</button>
    <a class="site-logo media_link" href="/staging-site/">
      <img src="..//assets/img/SIL-Logo-Animation.gif" alt="Service Innovation Lab logo" style = "height: 55px; width: 217px;"
      
    ></a><span class="toolkit" role="navigation">Toolkit</span>
    <nav role="navigation" aria-label="Menu section">
      


  
  <ul class="nz-accordion">
  
    <li>
      

      

      <a href="/staging-site/about/" ><span>About</span></a>
    </li>
  
    <li>
      

      

      <a href="/staging-site/approach/" ><span>Approach</span></a>
    </li>
  
    <li>
      

      

      <a href="/staging-site/insights/" ><span>Insights</span></a>
    </li>
  
    <li>
      

      

      <a href="/staging-site/projects/" ><span>Projects</span></a>
    </li>
  
    <li>
      

      

      <a href="/staging-site/tools/" ><span>Process and Tools</span></a>
    </li>
  
    <li>
      

      

      <a href="/staging-site/contact/" ><span>Contact</span></a>
    </li>
  
</ul>









    </nav>
  </div>
</header>

    

    <div class="main-content" id="main-content" role="main">
      



<section class="nz-grid nz-section  content-focus  ">
  
    
    <h2 id="pull-request-workflow">Pull Request Workflow</h2>

<p>Our code is written by humans. This will remain true until the robotic apocalypse finally occurs. Humans learn. Humans make mistakes. This peer-review based workflow is used by our team to foster a welcoming environment where we all are lifelong learners, and we support each other as a team to do the best we can, which includes not making mistakes.</p>

<h2 id="peer-review">Peer review</h2>

<p>We do not work alone. All work has at least two developers involved in any changes.</p>

<h2 id="pull-requests">Pull Requests</h2>

<p>Any dev can propose a code change (a PR).</p>

<p>Propose the PR on GitHub, as a proposed change to the <code class="highlighter-rouge">dev</code> branch. See “<a href="#BranchNaming">Branch Naming</a>” later in this document.</p>

<p>A PR description must include what has changed, but also why it needs to change. (a business or user need).</p>

<p>One other dev must approve the PR before it can be merged.</p>

<p>Approving a PR means you agree the code works as described and meets our quality levels. For most PRs this will require running the code yourself. Mention on the PR if you didn’t.</p>

<p>If there is an associated Trello story, or GitHub issue, provide some details and link to it. If there is no associated story, explain why briefly.</p>

<h2 id="pr-feedback--reviews">PR Feedback / Reviews</h2>

<p><a href="https://help.github.com/en/articles/commenting-on-a-pull-request">Commenting on a pull request</a> (<em>opens a link to GitHub</em>)</p>

<p>As a team, we attempt to give at least one comment/feedback on each PR. This normalises asking questions. It should be unusual for a PR to have zero feedback. Feedback should be something that could be better. “I love this” isn’t enough.</p>

<p>Feedback is given in a form of “Have you considered…” or otherwise doesn’t assume the author didn’t already attempt your alternative approach. “Do it this other way” is not feedback.</p>

<p>Comments can be “blocking” meaning the author wants a response to their feedback, or they can be a suggestion only, leaving the decision to the PR author. Indicate this using emoji. Elephant <code class="highlighter-rouge">:elephant</code> = suggestion only.</p>

<p><a href="https://help.github.com/en/articles/commenting-on-a-pull-request#adding-line-comments-to-a-pull-request">Adding line comments to a pull request</a> (<em>opens a link to GitHub</em>)</p>

<p>As a reviewer, you can approve a PR using the “Approve” option on Github. Request changes to a PR using the “Request changes” option.</p>

<h2 id="quality">Quality</h2>

<p>Code needs to pass code linters (we use codeclimate).</p>

<p>Markup generated for webpages must pass accessibility checkers.</p>

<h2 id="merging">Merging</h2>

<p>PR branches need to be “up to date”, and continuous integration via Travis-ci must run and pass before merging. New code must have tests, and minimum code coverage levels need to be met and maintained.</p>

<p>Merges into the <code class="highlighter-rouge">dev</code> branch need only one approval to merge but give all active team members reasonable chance to review unless the change is trivial.</p>

<p>The dev who proposed the PR presses the merge button on a PR once all the above passes &amp; it is approved. That dev is responsible for merging in a way that does not “break the build” or cause unplanned outages.</p>

<p>The branch should be deleted automatically (by the <strong>always-be-closing</strong> bot) after merging. This keeps the repo tidy.</p>

<h2 id="commit-messages">Commit Messages</h2>

<p>Commit messages should describe the reason for the changes being committed, so that anyone viewing the commit can know what has changed and why.</p>

<p>Good messages:</p>

<ul>
  <li>Updating Travis config to include dependency installation</li>
</ul>

<p>Bad messages:</p>

<ul>
  <li>Updating Travis</li>
</ul>

<p>Really bad commit messages:</p>

<ul>
  <li>Fixing stuff so it works</li>
  <li>Please let it work this time</li>
  <li>Commit</li>
  <li>Hello</li>
</ul>

<h2 id="branch-naming">Branch Naming<a name="BranchNaming"></a></h2>

<p>Branch naming in a consistent manner is good for keeping things tidy, and add context to any commit messages for commits against the branch. Branch names should be descriptive and their meanings clear. Additionally, branch names can contain <code class="highlighter-rouge">/</code> characters, so a good way to keep types of branches separate is to “namespace” them - for example, any branches whose main purpose is to add a new feature to the application should have the prefix “feature”. Branches for fixing bugs should be prefixed with “bugfix”, while a branch for something urgent that is going to go to production asap should be prefixed with “hotfix”.</p>

<p>Here are some examples:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>feature/automated_dishwasher_emptying
fix/ui_disabled_for_anon_users
hotfix/offline_jobs_errors
</code></pre></div></div>

<h2 id="continuous-deployment">Continuous Deployment</h2>

<p>Our code deploys automatically after a git merge into special branches.</p>

<p><code class="highlighter-rouge">dev</code> branch deploys to staging.</p>

<p><code class="highlighter-rouge">master</code> branch deploys to production.</p>

  
</section>

    </div>

    




  
  

<nav class="nav-accordion nav-mobile" role="navigation">
  <button class="sliding-panel-close">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Capa_1" width="512" height="512" x="0" y="0" aria-hidden="true" class="icon" enable-background="new 0 0 339.177 339.177" role="img" version="1.1" viewBox="0 0 339.177 339.177" xml:space="preserve"><title>Closing tab</title><g><path fill="#5b616b" d="M247.244,169.59l83.938-83.938c5.332-5.327,7.994-11.798,7.994-19.414c0-7.614-2.669-14.084-7.994-19.414L292.355,7.993 C287.026,2.665,280.556,0,272.944,0c-7.617,0-14.085,2.665-19.417,7.993L169.59,91.931L85.651,7.993 C80.325,2.665,73.854,0,66.237,0c-7.611,0-14.083,2.665-19.414,7.993L7.994,46.824C2.667,52.15,0,58.624,0,66.238 c0,7.616,2.664,14.084,7.994,19.414l83.937,83.938L7.994,253.528C2.667,258.859,0,265.327,0,272.945 c0,7.61,2.664,14.082,7.994,19.41l38.83,38.828c5.33,5.332,11.803,7.994,19.414,7.994c7.616,0,14.084-2.669,19.414-7.994 l83.939-83.938l83.944,83.938c5.328,5.332,11.793,7.994,19.417,7.994c7.611,0,14.082-2.669,19.411-7.994l38.82-38.828 c5.332-5.324,7.994-11.8,7.994-19.41c0-7.618-2.662-14.086-7.994-19.417L247.244,169.59z"/></g></svg>
  </button>

  <ul class="nz-sidenav-list">
  
    <li>
    

    

    <a href="/staging-site/about/" >About</a>
    
    </li>
  
    <li>
    

    

    <a href="/staging-site/approach/" >Approach</a>
    
    </li>
  
    <li>
    

    

    <a href="/staging-site/insights/" >Insights</a>
    
    </li>
  
    <li>
    

    

    <a href="/staging-site/projects/" >Projects</a>
    
    </li>
  
    <li>
    

    

    <a href="/staging-site/tools/" >Process and Tools</a>
    
    </li>
  
    <li>
    

    

    <a href="/staging-site/contact/" >Contact</a>
    
    </li>
  
  </ul>
</nav>








    <script src="/staging-site/assets/js/jquery.min.js"></script>
<script src="/staging-site/assets/js/waypoints.min.js" type="text/javascript"></script>
<script src="/staging-site/assets/js/index.js"></script>
<script src="/staging-site/assets/js/waypoints.js"></script>
<script src="/staging-site/assets/js/jekyll-pages-api-search.js"></script>
<script src="/staging-site/assets/js/sticky.js"></script>
<script src="/staging-site/assets/js/scroll-to-top-button.js"></script>
<script src="/staging-site/assets/js/accordion.js"></script>

    <script src="/staging-site/assets/js/search-constants.js"></script>
<script async src="/staging-site/assets/js/search-bundle.js"></script>
    
<!-- depth = 1-->
<!-- base = ../-->
<section class="blog-footer nz-section background-medium">
  <div class="nz-grid" role="region" aria-label="footer region">
    <div class="nz-width-one-fourth" role="img">
      <img class="govt-logo" src="..//assets/img/footer-logo-govt.png" alt="NZ Government logo">
    </div>
    <div class="nz-width-three-fourths creative-commons" role="img">
      <a href="https://creativecommons.org/licenses/by/4.0/">
      <img src="..//assets/img/cc_icons.png" alt="Creative Commons 4.0 International Licence" width="85" height="40"></a>
      <span class="licence" role="contentinfo">Unless indicated otherwise, all content on
        <span property="http://purl.org/dc/terms/title" role="contentinfo">serviceinnovationlab.github.io</span> is licensed for re-use under a <a href="https://creativecommons.org/licenses/by/4.0/" rel="external" class="external">Creative
      Commons 4.0 International Licence.<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" version="1.1" viewBox="0 0 16 16"><g class="surface1"><path d="M 9 2 L 9 3 L 12.292969 3 L 6.023438 9.273438 L 6.726563 9.976563 L 13 3.707031 L 13 7 L 14 7 L 14 2 Z M 4 4 C 2.894531 4 2 4.894531 2 6 L 2 12 C 2 13.105469 2.894531 14 4 14 L 10 14 C 11.105469 14 12 13.105469 12 12 L 12 7 L 11 8 L 11 12 C 11 12.550781 10.550781 13 10 13 L 4 13 C 3.449219 13 3 12.550781 3 12 L 3 6 C 3 5.449219 3.449219 5 4 5 L 8 5 L 9 4 Z"/></g></svg></a></span>
      </a>
    </div>
  </div>
</section>

  </body>
</html>
